{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{obtenerTodos}from\"../services/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ListarAlumnos(_ref){let{seleccionar}=_ref;const[alumnos,setAlumnos]=useState([]);const[cargando,setCargando]=useState(true);useEffect(()=>{obtenerTodos().then(data=>{console.log(\"Datos recibidos:\",data);setAlumnos(data);// LA API DEVUELVE UN ARRAY DIRECTO\nsetCargando(false);}).catch(()=>setCargando(false));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"card card-accion\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Listado de Alumnos\"}),cargando&&/*#__PURE__*/_jsx(\"p\",{children:\"Cargando...\"}),!cargando&&alumnos.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No hay alumnos\"}),!cargando&&alumnos.length>0&&/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Curso\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:alumnos.map(a=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:a.id}),/*#__PURE__*/_jsxs(\"td\",{children:[a.nombre,\" \",a.apellido1,\" \",a.apellido2]}),/*#__PURE__*/_jsx(\"td\",{children:a.curso}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>seleccionar(a.id),children:\"Ver\"})})]},a.id))})]})]});}export default ListarAlumnos;","map":{"version":3,"names":["React","useEffect","useState","obtenerTodos","jsx","_jsx","jsxs","_jsxs","ListarAlumnos","_ref","seleccionar","alumnos","setAlumnos","cargando","setCargando","then","data","console","log","catch","className","children","length","map","a","id","nombre","apellido1","apellido2","curso","onClick"],"sources":["C:/Users/alber/Downloads/REACTALBERTO/src/components/ListarAlumnos.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { obtenerTodos } from \"../services/api\";\r\n\r\nfunction ListarAlumnos({ seleccionar }) {\r\n\r\n  const [alumnos, setAlumnos] = useState([]);\r\n  const [cargando, setCargando] = useState(true);\r\n\r\n  useEffect(() => {\r\n    obtenerTodos()\r\n      .then(data => {\r\n        console.log(\"Datos recibidos:\", data);\r\n        setAlumnos(data);   // LA API DEVUELVE UN ARRAY DIRECTO\r\n        setCargando(false);\r\n      })\r\n      .catch(() => setCargando(false));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"card card-accion\">\r\n      <h3>Listado de Alumnos</h3>\r\n\r\n      {cargando && <p>Cargando...</p>}\r\n\r\n      {!cargando && alumnos.length === 0 && (\r\n        <p>No hay alumnos</p>\r\n      )}\r\n\r\n      {!cargando && alumnos.length > 0 && (\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Nombre</th>\r\n              <th>Curso</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {alumnos.map(a => (\r\n              <tr key={a.id}>\r\n                <td>{a.id}</td>\r\n                <td>{a.nombre} {a.apellido1} {a.apellido2}</td>\r\n                <td>{a.curso}</td>\r\n                <td>\r\n                  <button onClick={() => seleccionar(a.id)}>\r\n                    Ver\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListarAlumnos;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,YAAY,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAkB,IAAjB,CAAEC,WAAY,CAAC,CAAAD,IAAA,CAEpC,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAE9CD,SAAS,CAAC,IAAM,CACdE,YAAY,CAAC,CAAC,CACXY,IAAI,CAACC,IAAI,EAAI,CACZC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEF,IAAI,CAAC,CACrCJ,UAAU,CAACI,IAAI,CAAC,CAAI;AACpBF,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAAC,CACDK,KAAK,CAAC,IAAML,WAAW,CAAC,KAAK,CAAC,CAAC,CACpC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEP,KAAA,QAAKa,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BhB,IAAA,OAAAgB,QAAA,CAAI,oBAAkB,CAAI,CAAC,CAE1BR,QAAQ,eAAIR,IAAA,MAAAgB,QAAA,CAAG,aAAW,CAAG,CAAC,CAE9B,CAACR,QAAQ,EAAIF,OAAO,CAACW,MAAM,GAAK,CAAC,eAChCjB,IAAA,MAAAgB,QAAA,CAAG,gBAAc,CAAG,CACrB,CAEA,CAACR,QAAQ,EAAIF,OAAO,CAACW,MAAM,CAAG,CAAC,eAC9Bf,KAAA,UAAAc,QAAA,eACEhB,IAAA,UAAAgB,QAAA,cACEd,KAAA,OAAAc,QAAA,eACEhB,IAAA,OAAAgB,QAAA,CAAI,IAAE,CAAI,CAAC,cACXhB,IAAA,OAAAgB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfhB,IAAA,OAAAgB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdhB,IAAA,QAAQ,CAAC,EACP,CAAC,CACA,CAAC,cAERA,IAAA,UAAAgB,QAAA,CACGV,OAAO,CAACY,GAAG,CAACC,CAAC,eACZjB,KAAA,OAAAc,QAAA,eACEhB,IAAA,OAAAgB,QAAA,CAAKG,CAAC,CAACC,EAAE,CAAK,CAAC,cACflB,KAAA,OAAAc,QAAA,EAAKG,CAAC,CAACE,MAAM,CAAC,GAAC,CAACF,CAAC,CAACG,SAAS,CAAC,GAAC,CAACH,CAAC,CAACI,SAAS,EAAK,CAAC,cAC/CvB,IAAA,OAAAgB,QAAA,CAAKG,CAAC,CAACK,KAAK,CAAK,CAAC,cAClBxB,IAAA,OAAAgB,QAAA,cACEhB,IAAA,WAAQyB,OAAO,CAAEA,CAAA,GAAMpB,WAAW,CAACc,CAAC,CAACC,EAAE,CAAE,CAAAJ,QAAA,CAAC,KAE1C,CAAQ,CAAC,CACP,CAAC,GAREG,CAAC,CAACC,EASP,CACL,CAAC,CACG,CAAC,EACH,CACR,EACE,CAAC,CAEV,CAEA,cAAe,CAAAjB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}