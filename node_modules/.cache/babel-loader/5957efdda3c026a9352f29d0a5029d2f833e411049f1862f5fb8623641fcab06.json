{"ast":null,"code":"import{alumnosMock}from\"./datosMock\";const BASE=\"http://servidorclasedaw.onrender.com/alumno2\";async function intentarFetch(url){let opciones=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{const res=await fetch(url,opciones);return await res.json();}catch(error){console.warn(\"Servidor caído, usando datos locales\");return null;}}export async function obtenerTodos(){const data=await intentarFetch(\"\".concat(BASE,\"/alumnos\"));return data||alumnosMock;}export async function obtenerAlumno(id){const data=await intentarFetch(\"\".concat(BASE,\"/alumnos/\").concat(id));if(data)return data;return alumnosMock.find(a=>a.id===Number(id));}export async function crearAlumno(alumno){const data=await intentarFetch(\"\".concat(BASE,\"/alumnos\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(alumno)});if(data)return data;// SIMULACIÓN LOCAL\nalumno.id=alumnosMock.length+1;alumno.notas=[];alumnosMock.push(alumno);return alumno;}export async function borrarAlumno(id){const data=await intentarFetch(\"\".concat(BASE,\"/alumnos/\").concat(id),{method:\"DELETE\"});if(data)return data;// SIMULACIÓN LOCAL\nconst index=alumnosMock.findIndex(a=>a.id===Number(id));if(index!==-1)alumnosMock.splice(index,1);return{ok:true};}export async function obtenerNotas(id){const data=await intentarFetch(\"\".concat(BASE,\"/alumnos/\").concat(id,\"/notas\"));if(data)return data;const alumno=alumnosMock.find(a=>a.id===Number(id));return alumno?alumno.notas:[];}","map":{"version":3,"names":["alumnosMock","BASE","intentarFetch","url","opciones","arguments","length","undefined","res","fetch","json","error","console","warn","obtenerTodos","data","concat","obtenerAlumno","id","find","a","Number","crearAlumno","alumno","method","headers","body","JSON","stringify","notas","push","borrarAlumno","index","findIndex","splice","ok","obtenerNotas"],"sources":["C:/Users/alber/Downloads/REACTALBERTO/src/services/api.js"],"sourcesContent":["import { alumnosMock } from \"./datosMock\";\n\nconst BASE = \"http://servidorclasedaw.onrender.com/alumno2\";\n\nasync function intentarFetch(url, opciones = {}) {\n  try {\n    const res = await fetch(url, opciones);\n    return await res.json();\n  } catch (error) {\n    console.warn(\"Servidor caído, usando datos locales\");\n    return null;\n  }\n}\n\nexport async function obtenerTodos() {\n  const data = await intentarFetch(`${BASE}/alumnos`);\n  return data || alumnosMock;\n}\n\nexport async function obtenerAlumno(id) {\n  const data = await intentarFetch(`${BASE}/alumnos/${id}`);\n\n  if (data) return data;\n\n  return alumnosMock.find(a => a.id === Number(id));\n}\n\nexport async function crearAlumno(alumno) {\n  const data = await intentarFetch(`${BASE}/alumnos`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(alumno)\n  });\n\n  if (data) return data;\n\n  // SIMULACIÓN LOCAL\n  alumno.id = alumnosMock.length + 1;\n  alumno.notas = [];\n  alumnosMock.push(alumno);\n\n  return alumno;\n}\n\nexport async function borrarAlumno(id) {\n  const data = await intentarFetch(`${BASE}/alumnos/${id}`, {\n    method: \"DELETE\"\n  });\n\n  if (data) return data;\n\n  // SIMULACIÓN LOCAL\n  const index = alumnosMock.findIndex(a => a.id === Number(id));\n  if (index !== -1) alumnosMock.splice(index, 1);\n\n  return { ok: true };\n}\n\nexport async function obtenerNotas(id) {\n  const data = await intentarFetch(`${BASE}/alumnos/${id}/notas`);\n\n  if (data) return data;\n\n  const alumno = alumnosMock.find(a => a.id === Number(id));\n  return alumno ? alumno.notas : [];\n}\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,aAAa,CAEzC,KAAM,CAAAC,IAAI,CAAG,8CAA8C,CAE3D,cAAe,CAAAC,aAAaA,CAACC,GAAG,CAAiB,IAAf,CAAAC,QAAQ,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC7C,GAAI,CACF,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACN,GAAG,CAAEC,QAAQ,CAAC,CACtC,MAAO,MAAM,CAAAI,GAAG,CAACE,IAAI,CAAC,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACC,IAAI,CAAC,sCAAsC,CAAC,CACpD,MAAO,KAAI,CACb,CACF,CAEA,MAAO,eAAe,CAAAC,YAAYA,CAAA,CAAG,CACnC,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAb,aAAa,IAAAc,MAAA,CAAIf,IAAI,YAAU,CAAC,CACnD,MAAO,CAAAc,IAAI,EAAIf,WAAW,CAC5B,CAEA,MAAO,eAAe,CAAAiB,aAAaA,CAACC,EAAE,CAAE,CACtC,KAAM,CAAAH,IAAI,CAAG,KAAM,CAAAb,aAAa,IAAAc,MAAA,CAAIf,IAAI,cAAAe,MAAA,CAAYE,EAAE,CAAE,CAAC,CAEzD,GAAIH,IAAI,CAAE,MAAO,CAAAA,IAAI,CAErB,MAAO,CAAAf,WAAW,CAACmB,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACF,EAAE,GAAKG,MAAM,CAACH,EAAE,CAAC,CAAC,CACnD,CAEA,MAAO,eAAe,CAAAI,WAAWA,CAACC,MAAM,CAAE,CACxC,KAAM,CAAAR,IAAI,CAAG,KAAM,CAAAb,aAAa,IAAAc,MAAA,CAAIf,IAAI,aAAY,CAClDuB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,MAAM,CAC7B,CAAC,CAAC,CAEF,GAAIR,IAAI,CAAE,MAAO,CAAAA,IAAI,CAErB;AACAQ,MAAM,CAACL,EAAE,CAAGlB,WAAW,CAACM,MAAM,CAAG,CAAC,CAClCiB,MAAM,CAACM,KAAK,CAAG,EAAE,CACjB7B,WAAW,CAAC8B,IAAI,CAACP,MAAM,CAAC,CAExB,MAAO,CAAAA,MAAM,CACf,CAEA,MAAO,eAAe,CAAAQ,YAAYA,CAACb,EAAE,CAAE,CACrC,KAAM,CAAAH,IAAI,CAAG,KAAM,CAAAb,aAAa,IAAAc,MAAA,CAAIf,IAAI,cAAAe,MAAA,CAAYE,EAAE,EAAI,CACxDM,MAAM,CAAE,QACV,CAAC,CAAC,CAEF,GAAIT,IAAI,CAAE,MAAO,CAAAA,IAAI,CAErB;AACA,KAAM,CAAAiB,KAAK,CAAGhC,WAAW,CAACiC,SAAS,CAACb,CAAC,EAAIA,CAAC,CAACF,EAAE,GAAKG,MAAM,CAACH,EAAE,CAAC,CAAC,CAC7D,GAAIc,KAAK,GAAK,CAAC,CAAC,CAAEhC,WAAW,CAACkC,MAAM,CAACF,KAAK,CAAE,CAAC,CAAC,CAE9C,MAAO,CAAEG,EAAE,CAAE,IAAK,CAAC,CACrB,CAEA,MAAO,eAAe,CAAAC,YAAYA,CAAClB,EAAE,CAAE,CACrC,KAAM,CAAAH,IAAI,CAAG,KAAM,CAAAb,aAAa,IAAAc,MAAA,CAAIf,IAAI,cAAAe,MAAA,CAAYE,EAAE,UAAQ,CAAC,CAE/D,GAAIH,IAAI,CAAE,MAAO,CAAAA,IAAI,CAErB,KAAM,CAAAQ,MAAM,CAAGvB,WAAW,CAACmB,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACF,EAAE,GAAKG,MAAM,CAACH,EAAE,CAAC,CAAC,CACzD,MAAO,CAAAK,MAAM,CAAGA,MAAM,CAACM,KAAK,CAAG,EAAE,CACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}